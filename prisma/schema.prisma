generator client {
  provider = "prisma-client"
  output   = "./generated/prisma"
}

datasource db {
  provider = "sqlite"
}

model User {
  id         String @id @default(uuid())
  first_name String
  last_name  String
  email      String @unique
  password   String

  created_at DateTime? @default(now())
  updated_at DateTime? @updatedAt

  @@map("users")
}

model Category {
  id   String @id @default(uuid())
  name String

  created_at DateTime? @default(now())
  updated_at DateTime? @updatedAt

  products Product[]

  @@map("categories")
}

model Product {
  id          String @id @default(uuid())
  name        String
  price       String
  description String
  banner      String

  created_at DateTime? @default(now())
  updated_at DateTime? @updatedAt

  category_id String
  category    Category @relation(fields: [category_id], references: [id])
  items       Item[]

  @@map("products")
}

model Order {
  id     String  @id @default(uuid())
  table  Int
  status Boolean @default(false)
  draft  Boolean @default(true)
  name   String?

  created_at DateTime? @default(now())
  updated_at DateTime? @updatedAt
  items      Item[]

  @@map("orders")
}

model Item {
  id     String @id @default(uuid())
  amount Int

  created_at DateTime? @default(now())
  updated_at DateTime? @updatedAt

  order_id String
  order    Order  @relation(fields: [order_id], references: [id])

  product_id String
  product    Product @relation(fields: [product_id], references: [id])

  @@map("items")
}
